<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">
   
<dom-module id="overview-card">
  <template>
    <style>
      :host {
        display: block;
        @apply(--layout-vertical);
        transition: opacity ease-in 0.2s;
      }
      
      paper-card {
        background: white;
      }
        
      .card-content {
        padding: 0px;
        margin: 20px;
        position: relative;
      }
      
      .badge {
        display: inline-block;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #ff4081;
        color: #fff;
        text-align: center;
      }

      .badge > span {
        font-weight: 600;
        font-size: 12px;
        vertical-align: 1px;
      }
      
      #basket {
        min-width: 160px;
        min-height: 160px;
        max-height: 250px;
      }
      
      @media (max-width: 600px) {
        #basket {
          display: none;
        }
      }
    </style>

    <paper-card>
      <div class="horizontal layout">
        <iron-image id="basket" sizing="contain"
          preload fade src="../../images/basket.jpg"></iron-image>
        <div class="card-content flex">
          <h4 style="margin-top: 0;">Overview</h4>
          <template is="dom-if" if="{{!items.length}}">
            <div>You have everything you need</div>
          </template>
          <template is="dom-if" if="{{items.length}}">
            <div>You have <div class="badge"><span>{{items.length}}<span></div> item to buy in your list</div>
          </template>
        </div>
      </div>
      <div class="card-actions horizontal layout end-justified">
        <paper-button on-click="showShoppingList">Shopping list</paper-button>
      </div>
    </paper-card>
  </template>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'overview-card',
        
        properties: {
          items: {
            type: Array,
            value: function() {
              return [];
            },
            notify: true,
          }
        },
        
        showShoppingList: function() {
          this.fire("show-list");
        },
      });
    })();
  </script>

</dom-module>